// Code generated by sqlc-connect (https://github.com/walterwanderley/sqlc-connect). DO NOT EDIT.

package main

import (
	"database/sql"
	"net/http"

	"connectrpc.com/connect"
	"connectrpc.com/grpcreflect"

	books_v1connect "booktest/api/books/v1/v1connect"
	books_app "booktest/internal/books"
)

func registerHandlers(mux *http.ServeMux, db *sql.DB, interceptors []connect.Interceptor) {
	booksService := books_app.NewService(books_app.New(db))
	booksPath, booksHandler := books_v1connect.NewBooksServiceHandler(booksService,
		connect.WithInterceptors(
			interceptors...,
		),
	)
	mux.Handle(booksPath, booksHandler)

	reflector := grpcreflect.NewStaticReflector(
		books_v1connect.BooksServiceName,
	)
	mux.Handle(grpcreflect.NewHandlerV1(reflector))
	mux.Handle(grpcreflect.NewHandlerV1Alpha(reflector))
}
